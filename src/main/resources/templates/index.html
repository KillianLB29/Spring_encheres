<html data-th-replace="~{layout/layout :: layout(content=~{:: main}, title=~{:: title}, css=~{:: #extraCss})}">
<head>
    <title>Enchères ENI - Accueil</title>
</head>
<div class="pagination-controls_index">
    <ul class="pagination" id="paginationContainer">
        <!-- Pagination dynamique générée par JavaScript -->
    </ul>
</div>

<main>
    <div data-th-replace="fragments/filtre-index-recherche :: filtre-index-recherche"></div>

    <!-- Zone des cartes en version Desktop -->
    <section class="cards-section">
        <div class="grid-cards_index" id="cardContainer">
            <div class="card_index" th:each="article : ${articles}">
                <div class="card-image_index">
                    <img th:src="@{${article.urlImage}}" alt="Image de l'article">
                </div>
                <div class="card-content_index">
                    <h3 class="card-title_index" th:text="${article.nomArticle}">Nom article</h3>
                    <p><strong>Prix :</strong>
                        <span th:text="${article.miseAPrix} + ' crédits'">10 crédits</span></p>
                    <p><strong>Fin :</strong>
                        <span th:text="${#dates.format(article.dateFinEncheres, 'dd/MM/yyyy')}"></span></p>
                    <p><strong>Vendeur :</strong>
                        <span th:text="${article.utilisateur.pseudo}">Pseudo</span></p>
                    <a th:href="@{'/encheres/' + ${article.noArticle}}" class="btn_index">Voir</a>
                </div>
            </div>
        </div>

        <!-- Pagination visible uniquement en mode Desktop -->
        <div id="paginationControls" class="pagination-controls_index"></div>
    </section>

    <!-- Zone du Carousel pour Mobile/Tablette -->
    <section class="carousel-wrapper_index">
        <div id="carouselContainer" class="carousel">
            <div class="carousel-page">
                <div class="carousel-slide" th:each="article : ${articles}">
                    <div class="card_index">
                        <div class="card-image_index">
                            <img th:src="@{${article.urlImage}}" alt="Image de l'article">
                        </div>
                        <div class="card-content_index">
                            <h3 class="card-title_index" th:text="${article.nomArticle}">Nom article</h3>
                            <p><strong>Prix :</strong>
                                <span th:text="${article.miseAPrix} + ' crédits'">10 crédits</span></p>
                            <p><strong>Fin :</strong>
                                <span th:text="${#dates.format(article.dateFinEncheres, 'dd/MM/yyyy')}"></span></p>
                            <p><strong>Vendeur :</strong>
                                <span th:text="${article.utilisateur.pseudo}">Pseudo</span></p>
                            <a th:href="@{'/encheres/' + ${article.noArticle}}" class="btn_index">Voir</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pagination des slides dans le carousel -->
        <button class="carousel-btn_index prev_index">&lt;</button>
        <button class="carousel-btn_index next_index">&gt;</button>
    </section>

    <script src="/js/carousel_index.js"></script>
    <script src="/js/pagination_index.js"></script>
</main>

</html>

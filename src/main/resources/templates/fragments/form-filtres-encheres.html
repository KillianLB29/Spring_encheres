<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<div th:fragment="filtres">
      <div class="recherche-container">
            <form class="radio-form" th:action="@{/filtres}" method="get">
                <label>
                    <input type="radio" name="type" value="achats" onchange="toggleCheckboxes()"> Achats
                </label>
                <div class="subgroup" id="achatsGroup">
                    <label><input type="checkbox" name="achats" value="ouvertes" disabled> enchères ouvertes</label>
                    <label><input type="checkbox" name="achats" value="encours" disabled> mes enchères en cours</label>
                    <label><input type="checkbox" name="achats" value="remportees" disabled> mes enchères remportées</label>
                </div>

                <label>
                    <input type="radio" name="type" value="ventes" onchange="toggleCheckboxes()"> Ventes
                </label>
                <div class="subgroup" id="ventesGroup">
                    <label><input type="checkbox" name="ventes" value="encours" disabled> mes ventes en cours</label>
                    <label><input type="checkbox" name="ventes" value="nondebutees" disabled> ventes non-débutées</label>
                    <label><input type="checkbox" name="ventes" value="terminees" disabled> ventes terminées</label>
                </div>
            </form>
      </div>
 </div>

    <script>
        function toggleCheckboxes() {
            const typeValue = document.querySelector('input[name="type"]:checked')?.value;

            const achatsCheckboxes = document.querySelectorAll('#achatsGroup input[type="checkbox"]');
            const ventesCheckboxes = document.querySelectorAll('#ventesGroup input[type="checkbox"]');

            if (typeValue === 'achats') {
                achatsCheckboxes.forEach(cb => cb.disabled = false);
                ventesCheckboxes.forEach(cb => cb.disabled = true);
            } else if (typeValue === 'ventes') {
                achatsCheckboxes.forEach(cb => cb.disabled = true);
                ventesCheckboxes.forEach(cb => cb.disabled = false);
            }
        }
    </script>

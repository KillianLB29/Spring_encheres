<html data-th-replace="~{layout/layout :: layout(content=~{:: main}, title=~{:: title}, css=~{:: #extraCss})}">
<title>Enchères ENI - Mes enchères</title>
<title>Mes enchères</title>
<div id="extraCss">
    <link rel="stylesheet" data-th-href="@{/css/mesEncheres.css}">
    <link rel="stylesheet" data-th-href="@{/css/mesEncheres_mobile.css}">
    <link rel="stylesheet" data-th-href="@{/css/form-filtres-encheres.css}">
    <link rel="stylesheet" data-th-href="@{/css/filtre-index-recherche.css}">
</div>
<main>
<!--    <div data-th-replace="fragments/filtre-index-recherche :: filtre"></div>-->
<!--    <div th:replace="fragments/form-filtres-encheres :: filtres"></div>-->
    <form>
        <label>
            <input type="radio" name="groupChoice" value="group1" onclick="switchGroup('group1')">
            Groupe 1
        </label>
        <label>
            <input type="radio" name="groupChoice" value="group2" onclick="switchGroup('group2')">
            Groupe 2
        </label>

        <div id="group1">
            <label><input type="checkbox" name="g1_opt1"> Option 1</label>
            <label><input type="checkbox" name="g1_opt2"> Option 2</label>
            <label><input type="checkbox" name="g1_opt3"> Option 3</label>
        </div>

        <div id="group2">
            <label><input type="checkbox" name="g2_opt1"> Option A</label>
            <label><input type="checkbox" name="g2_opt2"> Option B</label>
            <label><input type="checkbox" name="g2_opt3"> Option C</label>
        </div>
    </form>

    <script>
        function switchGroup(activeGroupId) {
            const groups = ['group1', 'group2'];

            groups.forEach(groupId => {
                const checkboxes = document.querySelectorAll(`#${groupId} input[type="checkbox"]`);
                checkboxes.forEach(checkbox => {
                    if (groupId === activeGroupId) {
                        checkbox.disabled = false;
                    } else {
                        checkbox.checked = false;
                        checkbox.disabled = true;
                    }
                });
            });
        }

        // Optionnel : désactiver les deux groupes au chargement
        window.onload = () => {
            switchGroup(''); // Rien de sélectionné par défaut
        };
    </script>
    <h2 class="titre_mobile_encheres">Mes objets mis en enchère terminés</h2>
    <section class="encheres">
        <div class="carousel">
            <button class="carousel-btn prev">&#10094;</button>
            <div class="card-container">
                <div class="card" th:each="article : ${encheresTerminer}">
                    <div class="card-image">
                        <img th:src="@{/img/lamp-design.jpg}" alt="Image de l'article">
                    </div>
                    <div class="card-content">
                        <h3 th:text="${article.nomArticle}" class="card-title">Nom article</h3>
                        <p><strong>Prix :</strong> <span th:text="${article.miseAPrix} + ' crédits'"></span></p>
                        <p><strong>Fin :</strong> <span th:text="${#dates.format(article.dateFinEncheres, 'dd/MM/yyyy')}"></span></p>
                        <p><strong>Vendeur :</strong> <span th:text="${article.utilisateur.pseudo}"></span></p>
                        <a th:href="@{'/encheres/' + ${article.noArticle}}" class="btn">Voir</a>
                    </div>
                </div>
            </div>
            <button class="carousel-btn next">&#10095;</button>
        </div>
    </section>

    <h2 class="titre_mobile_encheres">Mes objets actuellement en enchères</h2>
    <section class="encheres">
        <div class="carousel">
            <button class="carousel-btn prev">&#10094;</button>
            <div class="card-content">
                <div class="card" th:each="article : ${encheresEnCours}">
                    <div class="card-image">
                        <img th:src="@{/img/lamp-design.jpg}" alt="Image de l'article">
                    </div>
                    <div class="card-content">
                        <h3 th:text="${article.nomArticle}" class="card-title">Nom article</h3>
                        <p><strong>Prix :</strong> <span th:text="${article.miseAPrix} + ' crédits'"></span></p>
                        <p><strong>Fin :</strong> <span th:text="${#dates.format(article.dateFinEncheres, 'dd/MM/yyyy')}"></span></p>
                        <p><strong>Vendeur :</strong> <span th:text="${article.utilisateur.pseudo}"></span></p>
                        <a th:href="@{'/encheres/' + ${article.noArticle}}" class="btn">Voir</a>
                    </div>
                </div>
            </div>
            <button class="carousel-btn next">&#10095;</button>
        </div>
    </section>

    <h2 class="titre_mobile_encheres">Les enchères auxquelles je participe</h2>
    <section class="encheres">
        <div class="carousel">
            <button class="carousel-btn prev">&#10094;</button>
            <div class="card-container">
                <div class="card" th:each="article : ${encheresParticipe}">
                    <div class="card-image">
                        <img th:src="@{/img/lamp-design.jpg}" alt="Image de l'article">
                    </div>
                    <div class="card-content">
                        <h3 th:text="${article.nomArticle}" class="card-title">Nom article</h3>
                        <p><strong>Prix :</strong> <span th:text="${article.miseAPrix} + ' crédits'"></span></p>
                        <p><strong>Fin :</strong> <span th:text="${#dates.format(article.dateFinEncheres, 'dd/MM/yyyy')}"></span></p>
                        <p><strong>Vendeur :</strong> <span th:text="${article.utilisateur.pseudo}"></span></p>
                        <a th:href="@{'/encheres/' + ${article.noArticle}}" class="btn">Voir</a>
                    </div>
                </div>
            </div>
            <button class="carousel-btn next">&#10095;</button>
        </div>
    </section>
    <script src="/js/carousel.js"></script>
</main>
</html>